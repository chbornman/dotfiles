{
    "layer": "top",
    "position": "top",
    "height": 32,
    "spacing": 0,

    "modules-left": ["sway/workspaces", "custom/whisper", "sway/mode"],
    "modules-center": [],
    "modules-right": ["custom/screencast", "custom/audio", "custom/cpu", "custom/battery", "custom/bluetooth", "custom/network", "clock"],

    "sway/workspaces": {
        "disable-scroll": false,
        "all-outputs": false,
        "format": "{index}"
    },

    "sway/mode": {
        "format": "{}"
    },

    "clock": {
        "format": "{:%a %d %b  %H:%M}",
        "tooltip-format": "{:%Y-%m-%d %H:%M:%S}",
        "on-click": "~/.local/bin/calendar-floating-menu"
    },

    "custom/audio": {
        "exec": "~/.local/bin/waybar-audio-loop",
        "return-type": "json",
        "format": "{}",
        "on-click": "~/.local/bin/audio-terminal-menu",
        "on-click-right": "~/.local/bin/audio-terminal-menu",
        "on-scroll-up": "~/.local/bin/vol up",
        "on-scroll-down": "~/.local/bin/vol down"
    },

    "custom/cpu": {
        "exec": "~/.local/bin/waybar-cpu-loop",
        "return-type": "json",
        "format": "{}",
        "on-click": "~/.local/bin/btop-floating-menu"
    },

    "custom/battery": {
        "exec": "~/.local/bin/battery-info-loop",
        "return-type": "json",
        "format": "{}",
        "on-click": "~/.local/bin/power-floating-menu"
    },

    "custom/network": {
        "exec": "~/.local/bin/waybar-network-loop",
        "return-type": "json",
        "format": "{}",
        "on-click": "~/.local/bin/wifi-terminal-menu",
        "on-click-right": "~/.local/bin/wifi-terminal-menu"
    },

    "custom/bluetooth": {
        "exec": "~/.local/bin/waybar-bluetooth-loop",
        "return-type": "json",
        "format": "{}",
        "on-click": "~/.local/bin/bluetooth-terminal-menu",
        "on-click-right": "~/.local/bin/bluetooth-terminal-menu"
    },

    "custom/screencast": {
        "exec": "pgrep wf-recorder && echo 'REC' || echo ''",
        "interval": 1,
        "format": "{}",
        "on-click": "pkill wf-recorder || wf-recorder -f ~/Videos/screencast-$(date +%Y%m%d-%H%M%S).mp4"
    },

    "custom/whisper": {
        "exec": "~/projects/asahi-whisper-daemon/waybar_whisper.py",
        "return-type": "json",
        "format": "{}",
        "on-click": "~/projects/asahi-whisper-daemon/toggle_stream.sh",
        "on-click-right": "~/projects/asahi-whisper-daemon/switch_model.sh",
        "tooltip": true
    }
}
