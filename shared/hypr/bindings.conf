# Shared keybindings - unified across all machines
# Machine-specific app paths use variables set in machine.conf

$mod = SUPER

# ============================================================================
# APPLICATIONS
# ============================================================================

bind = $mod, Return, exec, ghostty
bind = $mod, space, exec, wofi --show drun
bind = $mod, b, exec, $browser
bind = $mod SHIFT, b, exec, ghostty -e bluetui
bind = $mod, c, exec, $browser --new-window https://calendar.google.com
bind = $mod, g, exec, $browser --new-window https://mail.google.com
bind = $mod, o, exec, $obsidian
bind = $mod, f, exec, ghostty -e yazi
bind = $mod SHIFT, f, exec, nautilus
bind = $mod SHIFT, s, exec, $localsend
bind = $mod, a, exec, ghostty -e $opencode
bind = $mod, m, exec, ghostty -e $mailtui
bind = $mod, t, exec, sh -c 'pgrep -x telegram-deskto || telegram-desktop & sleep 1; telegram-desktop -- tg://resolve?domain=claudiusclaudius_bot'
bind = $mod, y, exec, $browser --new-window https://youtube.com
bind = $mod, n, exec, $nextcloud

# Whisper dictation
bind = $mod, d, exec, ~/projects/asahi-whisper-daemon/toggle_dictation.sh
bind = $mod SHIFT, d, exec, ~/projects/asahi-whisper-daemon/toggle_stream.sh

# ============================================================================
# SCREENSHOTS & RECORDING
# ============================================================================

bind = $mod, p, exec, ~/.local/bin/screenshot area
bind = $mod SHIFT, p, exec, ~/.local/bin/screenshot screen
bind = $mod ALT, p, exec, ~/.local/bin/screenshot window

bind = $mod, r, exec, ~/.local/bin/screenrecord area
bind = $mod SHIFT, r, exec, ~/.local/bin/screenrecord screen
bind = $mod ALT, r, exec, ~/.local/bin/screenrecord window

# ============================================================================
# CLIPBOARD & UTILITIES
# ============================================================================

# Clipboard paste (for terminals that don't support Ctrl+Shift+v)
bind = $mod, v, exec, sleep 0.5 && wtype "$(wl-paste)"

# Forward delete (SUPER + Backspace)
bind = $mod, backspace, sendshortcut, , Delete, activewindow

# ============================================================================
# WINDOW MANAGEMENT
# ============================================================================

bind = $mod, q, killactive
bind = $mod SHIFT, space, togglefloating
bind = $mod, F11, fullscreen
bind = CTRL, Return, fullscreen

# Focus (vim-style)
bind = $mod, h, movefocus, l
bind = $mod, j, movefocus, d
bind = $mod, k, movefocus, u
bind = $mod, l, movefocus, r

# Focus (arrow keys)
bind = $mod, left, movefocus, l
bind = $mod, down, movefocus, d
bind = $mod, up, movefocus, u
bind = $mod, right, movefocus, r

# Move windows (vim-style)
bind = $mod SHIFT, h, movewindow, l
bind = $mod SHIFT, j, movewindow, d
bind = $mod SHIFT, k, movewindow, u
bind = $mod SHIFT, l, movewindow, r

# Move windows (arrow keys)
bind = $mod SHIFT, left, movewindow, l
bind = $mod SHIFT, down, movewindow, d
bind = $mod SHIFT, up, movewindow, u
bind = $mod SHIFT, right, movewindow, r

# Toggle split orientation
bind = $mod, backslash, layoutmsg, togglesplit

# ============================================================================
# WORKSPACES
# ============================================================================

bind = $mod, 1, workspace, 1
bind = $mod, 2, workspace, 2
bind = $mod, 3, workspace, 3
bind = $mod, 4, workspace, 4
bind = $mod, 5, workspace, 5
bind = $mod, 6, workspace, 6
bind = $mod, 7, workspace, 7
bind = $mod, 8, workspace, 8
bind = $mod, 9, workspace, 9
bind = $mod, 0, workspace, 10

bind = $mod SHIFT, 1, movetoworkspace, 1
bind = $mod SHIFT, 2, movetoworkspace, 2
bind = $mod SHIFT, 3, movetoworkspace, 3
bind = $mod SHIFT, 4, movetoworkspace, 4
bind = $mod SHIFT, 5, movetoworkspace, 5
bind = $mod SHIFT, 6, movetoworkspace, 6
bind = $mod SHIFT, 7, movetoworkspace, 7
bind = $mod SHIFT, 8, movetoworkspace, 8
bind = $mod SHIFT, 9, movetoworkspace, 9
bind = $mod SHIFT, 0, movetoworkspace, 10

# Move workspace to other monitor
bind = $mod SHIFT, m, movecurrentworkspacetomonitor, +1

# ============================================================================
# RESIZE
# ============================================================================

# SUPER +/- for horizontal resize
binde = $mod, minus, resizeactive, -50 0
binde = $mod, equal, resizeactive, 50 0
# SUPER SHIFT +/- for vertical resize
binde = $mod SHIFT, minus, resizeactive, 0 -50
binde = $mod SHIFT, equal, resizeactive, 0 50

# ============================================================================
# SYSTEM
# ============================================================================

bind = $mod, i, exec, killall -SIGUSR1 waybar
bind = $mod, Escape, exec, hyprlock
bind = $mod SHIFT, c, exec, hyprctl reload
bind = $mod SHIFT, e, exit

# ============================================================================
# MEDIA KEYS
# ============================================================================

bindel = , XF86AudioRaiseVolume, exec, ~/.local/bin/vol up
bindel = , XF86AudioLowerVolume, exec, ~/.local/bin/vol down
bindl = , XF86AudioMute, exec, ~/.local/bin/vol mute
bindl = , XF86AudioMicMute, exec, pactl set-source-mute @DEFAULT_SOURCE@ toggle

# Brightness keys
bindel = , XF86MonBrightnessUp, exec, ~/.local/bin/bright up
bindel = , XF86MonBrightnessDown, exec, ~/.local/bin/bright down

# Keyboard backlight
bindel = SHIFT, XF86MonBrightnessUp, exec, ~/.local/bin/kbright up
bindel = SHIFT, XF86MonBrightnessDown, exec, ~/.local/bin/kbright down
bindel = , XF86KbdBrightnessUp, exec, ~/.local/bin/kbright up
bindel = , XF86KbdBrightnessDown, exec, ~/.local/bin/kbright down

# F3/F4 file manager shortcuts (Apple keyboards)
bind = , XF86LaunchA, exec, ghostty -e yazi
bind = , XF86Search, exec, nautilus

# ============================================================================
# MOUSE & GESTURES
# ============================================================================

bindm = $mod, mouse:272, movewindow
bindm = $mod, mouse:273, resizewindow

bind = , swipe:3:l, workspace, +1
bind = , swipe:3:r, workspace, -1
