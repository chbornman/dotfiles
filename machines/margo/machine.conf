# Margo machine-specific Hyprland config
# Desktop: Arch Linux, x86_64, NVIDIA GPU, LG 4K monitor, Wacom tablet

# ============================================================================
# APP VARIABLES (used by shared bindings.conf)
# ============================================================================

$browser = zen-browser
$obsidian = obsidian
$localsend = localsend
$opencode = /usr/bin/opencode
$mailtui = /home/caleb/.cargo/bin/mailtui
$telegram = telegram-desktop
$nextcloud = nextcloud

# ============================================================================
# MONITORS
# ============================================================================

env = GDK_SCALE,1.5

monitor = HDMI-A-1, 3840x2160@60, 0x0, 1.0
monitor = , preferred, auto, auto

workspace = 1, monitor:HDMI-A-1
workspace = 2, monitor:HDMI-A-1
workspace = 3, monitor:HDMI-A-1

# ============================================================================
# INPUT
# ============================================================================

input {
    kb_layout = us
    kb_options = compose:caps

    repeat_rate = 40
    repeat_delay = 600

    follow_mouse = 1
    numlock_by_default = true

    touchpad {
        natural_scroll = true
        scroll_factor = 0.4
    }

    sensitivity = 0
}

# Wacom Intuos Pro M (left-handed, mapped to HDMI-A-1)
device {
    name = wacom-intuos-pro-m-pen
    left_handed = true
    output = HDMI-A-1
}

device {
    name = wacom-intuos-pro-m-finger
    left_handed = true
    sensitivity = 0.5
}


# ============================================================================
# NVIDIA ENVIRONMENT
# ============================================================================

env = LIBVA_DRIVER_NAME,nvidia
env = __GLX_VENDOR_LIBRARY_NAME,nvidia
env = GBM_BACKEND,nvidia-drm
env = NVD_BACKEND,direct
env = WLR_NO_HARDWARE_CURSORS,1

cursor {
    no_hardware_cursors = true
}

# ============================================================================
# MACHINE-SPECIFIC WINDOW RULES
# ============================================================================

# LocalSend force tiled on margo (desktop has enough space)
windowrule = tile on, match:class ^(localsend)$
