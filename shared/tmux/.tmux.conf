# Change prefix to C-Space
unbind C-b
set -g prefix C-Space
bind C-Space send-prefix

# Plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'

setw -g mode-keys vi
set -g mouse on

bind-key -T copy-mode-vi v send-keys -X begin-selection
bind-key -T copy-mode-vi y send-keys -X copy-selection-and-cancel

# New windows/splits open in current directory
bind c new-window -c "#{pane_current_path}"
bind '"' split-window -c "#{pane_current_path}"
bind % split-window -h -c "#{pane_current_path}"

# Capstan Cloud colors (matching polybar style)
set -g status-position bottom
set -g status-style bg='#1a1917',fg='#f7f7f5'
set -g status-left '#[fg=#1a1917,bg=#d4a366,bold] #S #[default] '
set -g status-left-length 30
set -g status-right '#[fg=#8c8985]bat #(cat /sys/class/power_supply/BAT0/capacity 2>/dev/null || echo "AC")%%  #[fg=#8c8985]#(hostname -I | awk "{print \$1}")  #[fg=#f7f7f5]%a %d %b  %H:%M '
set -g status-right-length 120

set -g window-status-format ' #[fg=#8c8985]#I:#W '
set -g window-status-current-format '#[fg=#1a1917,bg=#d4a366,bold] #I:#W '
set -g window-status-separator ''

set -g pane-border-style fg='#393634'
set -g pane-active-border-style fg='#d4a366'
set -g message-style bg='#262422',fg='#f7f7f5'
set -g mode-style bg='#d4a366',fg='#1a1917'

# Initialize TPM (keep this line at the very bottom)
run '~/.tmux/plugins/tpm/tpm'
